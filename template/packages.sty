% programming TeX
\RequirePackage{ifthen}

% math
\RequirePackage[math-style=ISO]{unicode-math}

% fonts
\RequirePackage[mono=false]{libertinus-otf}
\RequirePackage{packages/jetbrains-mono/jetbrains-mono}

% code snippets
\RequirePackage[outputdir=.aux]{minted}
\usemintedstyle{bw}
\setminted{
  frame=lines,
  framerule=\heavyrulewidth,
  framesep=1.5\belowrulesep,
}

% localization
\RequirePackage{polyglossia}
\setotherlanguages{german,english}
\AtBeginDocument{\setmainlanguage{\@ample@Language}}

\RequirePackage[strict,autostyle=true]{csquotes}

\RequirePackage{siunitx}
\gappto\polyglossia@language@switched{
  \ifthenelse{\equal{\languagename}{english}}{
    \sisetup{locale=US}
  }{
    \ifthenelse{\equal{\languagename}{german}}{
      \sisetup{locale=DE}
    }{
      \sisetup{locale=US}
      \ClassWarning{ample}{Unsupported language activated, using locale EN-US for package siunitx.}
    }
  }
}

% bibliography
\RequirePackage{biblatex}

% tables
\RequirePackage{booktabs}

% floats
\RequirePackage{float}

% colors
\RequirePackage{xcolor}
\definecolor{links}{HTML}{0069c2}

% links in PDFs
\RequirePackage[
  linktoc=all,
  colorlinks=true,
  allcolors=links,
  bookmarksnumbered=true,
  pdfdisplaydoctitle=true,
]{hyperref}
\AtBeginDocument{
  \hypersetup{
    pdftitle=\@title,
    pdfauthor=\@author,
    pdfsubject=\@subject,
  }
}
\usepackage[ocgcolorlinks]{ocgx2}
